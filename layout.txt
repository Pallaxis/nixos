.
├── flake.nix            # Entry point: defines inputs and outputs
├── flake.lock           # Version pinning for your inputs
├── hosts/               # Machine-specific configurations
│   ├── desktop/
│   │   ├── default.nix  # Main config for 'desktop'
│   │   └── hardware.nix # Hardware scan (generated by nixos-generate-config)
│   └── laptop/
│       ├── default.nix
│       └── hardware.nix
├── modules/             # Reusable modules (the "building blocks")
│   ├── core/            # Settings every machine gets (users, locale, nix settings)
│   ├── desktop/         # UI-related (GNOME/KDE, fonts, audio)
│   └── apps/            # Optional bundles (gaming.nix, dev-tools.nix)
└── users/               # Home Manager configurations
    └── alex/
        ├── home.nix
        └── dotfiles/    # Actual config files (zshrc, nvim, etc.)
